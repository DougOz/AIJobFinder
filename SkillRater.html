<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- CRITICAL: Ensures the layout is fully responsive on all devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skill Rater with Public Profiles</title>

    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Configure Tailwind to use the Inter font -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>

    <!--
        *** ESSENTIAL CONFIG FALLBACK ***
        Ensures the global Firebase variables are defined,
        falling back to mock data if the environment hasn't provided them.
    -->
    <script>
        // Check if environment variables are defined, otherwise use local mock data
        var __app_id = typeof __app_id !== 'undefined' ? __app_id : 'local-skill-rater-id';
        var __firebase_config = typeof __firebase_config !== 'undefined' ? __firebase_config : JSON.stringify({
            apiKey: "AIzaSyAl9XTwvGvyFch7kdB79UHF0iG6Rnxk90Q",
            authDomain: "aijobfinder-9dd90.firebaseapp.com",
            projectId: "aijobfinder-9dd90",
            storageBucket: "aijobfinder-9dd90.firebasestorage.app",
            messagingSenderId: "942806226439",
            appId: "1:942806226439:web:b0e46f0bf083598fc9fca2",
            measurementId: "G-9ZPLQXM1BJ"
        });
        var __initial_auth_token = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
    </script>

    <!-- Load React and ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <!-- Load Babel for JSX transpilation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!--
        Load Firebase/Firestore/Auth CDNs.
        These functions are loaded as modules and exposed globally.
    -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, setDoc, doc, collection, onSnapshot, setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Expose Firebase functions globally for use in the type="text/babel" script block
        window.firebase_app_f = initializeApp;
        window.firebase_auth_f = { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged };
        window.firebase_firestore_f = { getFirestore, setDoc, doc, collection, onSnapshot, setLogLevel };
    </script>

    <style>
        /* Custom CSS to center the app content but allow it to scroll if needed */
        #root {
            min-height: 100vh;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            padding: 1rem;
        }
        /* Custom scrollbar styling for a nicer look */
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: #cbd5e1; /* slate-300 */
            border-radius: 4px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background-color: #f1f5f9; /* slate-100 */
        }
    </style>
</head>
<body class="bg-slate-50 font-sans">

    <!-- The root element where the React application will be mounted -->
    <div id="root">
        <!-- A simple loading message until React mounts -->
        <p class="text-gray-500">Loading React Application...</p>
    </div>

    <!-- The main script block containing the React component code -->
    <script type="text/babel">
        const { useState, useEffect, useCallback, useMemo } = React;

        // --- Custom SVG Icons (Replacement for lucide-react imports) ---
        const Search = (props) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
        );

        // --- Core App Component (Skill Rater Logic) ---

        function App() {
            // Firebase States
            const [db, setDb] = useState(null);
            const [auth, setAuth] = useState(null);
            const [userId, setUserId] = useState(null);

            // --- Configuration Retrieval ---
            const rawConfig = typeof __firebase_config !== 'undefined' ? __firebase_config : '{}';

            const firebaseConfig = useMemo(() => {
                try {
                    const parsed = rawConfig ? JSON.parse(rawConfig) : {};
                    return Object.keys(parsed).length > 0 ? parsed : null;
                } catch (e) {
                    console.error("Error parsing __firebase_config. Raw config was:", rawConfig, "Error:", e);
                    return null;
                }
            }, [rawConfig]);

            const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
            const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';

            // Other States
            const [isAuthReady, setIsAuthReady] = useState(false);
            const [raterName, setRaterName] = useState('Default'); // NEW: Rater profile name
            const [masterSkillItems, setMasterSkillItems] = useState([]);
            const [userRatings, setUserRatings] = useState({});

            // UPDATED: Use separate states for input and active search term
            const [searchInput, setSearchInput] = useState('');
            const [activeSearchTerm, setActiveSearchTerm] = useState(''); // Only this triggers filtering

            const [isLoading, setIsLoading] = useState(true);
            const [saveMessage, setSaveMessage] = useState(null);

            // --- Pagination and Filter States ---
            const [currentPage, setCurrentPage] = useState(1);
            const skillsPerPage = 50;
            const [showUnratedOnly, setShowUnratedOnly] = useState(false);
            // -----------------------------------------

            // 1. Firebase Initialization and Authentication Listener
            useEffect(() => {
                if (!window.firebase_app_f || !window.firebase_auth_f || !window.firebase_firestore_f) {
                    console.error("Firebase global functions are not available. Check CDN loading.");
                    setIsLoading(false);
                    return;
                }

                if (!firebaseConfig) {
                    console.error("Firebase configuration is missing or invalid after parsing. Cannot proceed with initialization.");
                    setIsLoading(false);
                    return;
                }

                const { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } = window.firebase_auth_f;
                const { getFirestore, setLogLevel } = window.firebase_firestore_f;

                try {
                    const app = window.firebase_app_f(firebaseConfig);
                    const firestoreDb = getFirestore(app);
                    const firebaseAuth = getAuth(app);

                    setDb(firestoreDb);
                    setAuth(firebaseAuth);

                    setLogLevel('debug');
                    console.log("Firebase initialized successfully. Firestore logging set to 'debug'.");

                    const authenticate = async () => {
                        try {
                            if (initialAuthToken) {
                                await signInWithCustomToken(firebaseAuth, initialAuthToken);
                                console.log("Attempting sign in with custom token.");
                            } else {
                                await signInAnonymously(firebaseAuth);
                                console.log("No custom auth token provided by the environment. Attempting anonymous sign in.");
                            }
                        } catch (error) {
                            console.error("Initial authentication failed (Expected with mock config):", error);
                        }
                    };

                    authenticate();

                    // Listener to determine final user state and set AuthReady flag
                    const unsubscribe = onAuthStateChanged(firebaseAuth, (user) => {
                        if (user && user.uid) {
                            setUserId(user.uid);
                            console.log(`User authenticated. UID: ${user.uid}`);
                        } else {
                            // If unauthenticated (or failed auth), assign a unique ID for temporary session data
                            // The random ID serves as the "creatorUserId" for public documents
                            setUserId(crypto.randomUUID());
                            console.warn("User is not authenticated (or auth failed). Using a random session ID.");
                        }
                        setIsAuthReady(true);
                        // Data loading starts in the next effect when isAuthReady is true
                    });

                    return () => unsubscribe();

                } catch (e) {
                    console.error("Error during Firebase initialization or authentication:", e);
                    setIsLoading(false);
                }
            }, [initialAuthToken, firebaseConfig]);

            // Function to handle fetching and setting up snapshot for the Rater Profile
            // This function is dependent on db, appId, isAuthReady, and raterName
            const fetchRaterRatings = useCallback(() => {
                const currentRaterName = raterName.trim();

                if (!isAuthReady || !db || !currentRaterName) {
                    console.log("Skipping fetchRaterRatings: dependencies missing.");
                    if (isAuthReady && !db) setIsLoading(false);
                    return () => {};
                }

                if (currentRaterName === '') {
                    console.warn("Rater name is empty. Cannot load ratings.");
                    setUserRatings({});
                    return () => {};
                }

                const { doc, onSnapshot } = window.firebase_firestore_f;

                // *** NEW PUBLIC COLLECTION PATH ***
                // Path: /artifacts/{appId}/public/data/skill_ratings/{raterName}
                const ratingsDocRef = doc(db, 'artifacts', appId, 'public', 'data', 'skill_ratings', currentRaterName);
                console.log(`Setting up rating snapshot for Rater: ${currentRaterName} at path: ${ratingsDocRef.path}`);

                setIsLoading(true); // Indicate data fetch is starting

                const unsubscribeRatings = onSnapshot(ratingsDocRef, (docSnapshot) => {
                    if (docSnapshot.exists()) {
                        setUserRatings(docSnapshot.data().ratings || {});
                        console.log(`Fetched ratings for ${currentRaterName}. Total rated: ${Object.keys(docSnapshot.data().ratings || {}).length}`);
                    } else {
                        setUserRatings({});
                        console.log(`No ratings found for ${currentRaterName}. Starting fresh.`);
                    }
                    setIsLoading(false); // Stop loading once data is received
                }, (error) => {
                    console.error(`Error fetching ratings for ${currentRaterName}:`, error);
                    setUserRatings({});
                    setIsLoading(false);
                });

                return unsubscribeRatings;
            }, [isAuthReady, db, appId, raterName]); // raterName triggers refetch

            // Handle button click for explicit reload
            const handleReloadRatings = () => {
                if (!raterName || raterName.trim() === '') {
                    setSaveMessage({ type: 'error', text: 'Rater Profile Name cannot be empty.' });
                    setTimeout(() => setSaveMessage(null), 3000);
                    return;
                }
                // Call the function explicitly
                fetchRaterRatings();
            };


            // 2. Data Fetching Effects (Master Skills & Rater Profile)

            // 2a. Fetch Master Skills (Public, static collection)
            useEffect(() => {
                if (!isAuthReady || !db) return;

                const { doc, onSnapshot } = window.firebase_firestore_f;

                // Path: /artifacts/{appId}/public/all_skills (Master list)
                const masterDocPath = doc(db, 'artifacts', appId, 'public', 'all_skills');
                const unsubscribeMaster = onSnapshot(masterDocPath, (docSnapshot) => {
                    if (docSnapshot.exists() && docSnapshot.data().list) {
                        const skills = docSnapshot.data().list
                            .map(item => ({
                                skill: item.skill,
                                count: item.count || 0, // Ensure count is a number
                            }))
                            .sort((a, b) => b.count - a.count);

                        setMasterSkillItems(skills);
                        console.log(`Fetched ${skills.length} unique skills (with counts) from Firestore.`);
                    } else {
                        setMasterSkillItems([]);
                    }
                }, (error) => {
                    console.error("Error fetching master skills:", error);
                });

                return () => unsubscribeMaster();
            }, [isAuthReady, db, appId]);


            // 2b. Fetch User Ratings (Public, dynamic by raterName)
            useEffect(() => {
                // This effect runs on component mount, or when fetchRaterRatings dependencies (including raterName) change.
                const unsubscribe = fetchRaterRatings();
                return () => unsubscribe();
            }, [fetchRaterRatings]); // Dependency on the memoized fetch function

            // 3. Save Function
            const saveUserRating = useCallback(async (skill, rating) => {

                const { setDoc, doc } = window.firebase_firestore_f;
                const currentRaterName = raterName.trim();

                if (!isAuthReady || !db || !userId) {
                    setSaveMessage({ type: 'error', text: 'Authentication not complete. Cannot save.' });
                    setTimeout(() => setSaveMessage(null), 3000);
                    return;
                }

                // UPDATED: Now allows saving to the 'Default' profile name.
                if (!currentRaterName) {
                    setSaveMessage({ type: 'error', text: 'Rater Profile Name cannot be empty.' });
                    setTimeout(() => setSaveMessage(null), 4000);
                    return;
                }

                // *** NEW PUBLIC COLLECTION PATH ***
                // Path: /artifacts/{appId}/public/data/skill_ratings/{raterName}
                const docRef = doc(db, 'artifacts', appId, 'public', 'data', 'skill_ratings', currentRaterName);

                // 1. Prepare the full ratings object to be saved
                const updatedRatings = { ...userRatings, [skill]: rating };

                // 2. Optimistically update local state for responsiveness
                // This will trigger the snapshot listener and reflect the change,
                // but we update it here first for immediate feedback.
                setUserRatings(updatedRatings);

                try {
                    // 3. Save the full, updated ratings map to Firestore
                    await setDoc(docRef, {
                        // Store the user ID who created/modified this public profile for auditing
                        creatorUserId: userId,
                        lastUpdated: new Date(),
                        ratings: updatedRatings // Use the calculated updated map
                    }, { merge: false }); // Overwrite the whole ratings object

                    setSaveMessage({ type: 'success', text: `Saved rating for ${skill} to profile: ${currentRaterName}` });

                } catch (e) {
                    console.error("Error saving user rating:", e);
                    // Clearer message for the user that the save failed due to permission/auth issues
                    setSaveMessage({
                        type: 'error',
                        text: `Save failed: Permission denied. (Check console for Firebase details)`
                    });
                }

                setTimeout(() => setSaveMessage(null), 3000);
            }, [isAuthReady, db, userId, appId, userRatings, raterName]); // raterName is now a required dependency

            // --- Combined Filtering and Pagination Logic ---
            const skillsToDisplay = useMemo(() => {
                // 1. Start with the full list of skill items (objects: {skill: string, count: number})
                let list = masterSkillItems.filter(item =>
                    // Use activeSearchTerm for filtering
                    item.skill.toLowerCase().includes(activeSearchTerm.toLowerCase())
                );

                // 2. Apply "Unrated Only" Filter
                if (showUnratedOnly) {
                    // Filter based on the skill name found in the item object
                    list = list.filter(item => !userRatings[item.skill] || userRatings[item.skill] === 0);
                }

                return list;
            }, [masterSkillItems, activeSearchTerm, showUnratedOnly, userRatings]); // Dependency updated to activeSearchTerm

            // Pagination calculations
            const totalPages = Math.ceil(skillsToDisplay.length / skillsPerPage);
            const startIndex = (currentPage - 1) * skillsPerPage;
            const paginatedSkills = skillsToDisplay.slice(startIndex, startIndex + skillsPerPage);

            // Function to change page
            const goToPage = useCallback((page) => {
                if (page >= 1 && page <= totalPages) {
                    setCurrentPage(page);
                }
            }, [totalPages]);

            // Reset page when filters change (using activeSearchTerm)
            useEffect(() => {
                if (currentPage !== 1) {
                    setCurrentPage(1);
                }
            }, [activeSearchTerm, showUnratedOnly]);
            // ---------------------------------------------------


            // 5. Custom 3-Level Rating Component
            const StarRating = ({ skill, currentRating, onRate }) => {
                // Map the 3 levels to user-friendly text for context
                const levels = {
                    1: 'Novice',
                    2: 'Proficient',
                    3: 'Expert'
                };

                return (
                    <div className="flex items-center space-x-1 sm:space-x-2">
                        {[1, 2, 3].map((value) => (
                            <button
                                key={value}
                                title={`${levels[value]} (${value} of 3)`}
                                onClick={() => onRate(skill, value)}
                                className={`px-2.5 py-0.5 text-xs font-medium rounded-full transition-all duration-200 shadow-sm border ${
                                    value === currentRating
                                        ? 'bg-indigo-600 text-white hover:bg-indigo-700 border-indigo-700'
                                        : 'bg-gray-100 text-gray-600 hover:bg-indigo-50 hover:text-indigo-600 border-gray-200'
                                }`}
                            >
                                {levels[value]}
                            </button>
                        ))}
                    </div>
                );
            };

            // --- Render Logic ---
            if (isLoading) {
                return (
                    <div className="flex items-center justify-center min-h-screen w-full">
                        <div className="animate-spin rounded-full h-12 w-12 border-b-4 border-indigo-500"></div>
                        <p className="ml-4 text-lg text-gray-700">Loading application and data...</p>
                    </div>
                );
            }

            return (
                <div className="w-full max-w-4xl bg-white shadow-xl rounded-2xl p-6 sm:p-10 my-8 border border-gray-100">
                    {/* Header: Fancier Look */}
                    <h1 className="text-2xl sm:text-3xl font-extrabold text-gray-900 mb-2 border-b border-indigo-100 pb-3">
                        <span className="text-indigo-600">Skill Rater</span> Profile Editor
                    </h1>
                    <p className="text-sm text-gray-500 mb-2">
                        Select your proficiency: 1 (Novice), 2 (Proficient), or 3 (Expert).
                    </p>
                    <p className="text-xs text-gray-400 mb-6">
                        Your temporary Firebase ID: <span className="font-mono bg-gray-100 px-1 rounded-md text-gray-600">{userId || 'N/A'}</span>
                    </p>

                    {/* Rater Profile Input, Reload Button & Save Message */}
                    <div className="flex flex-col gap-3 md:flex-row justify-between items-start md:items-center mb-6 p-4 bg-indigo-50 rounded-xl shadow-md border border-indigo-200">

                        <div className="flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-3 w-full md:w-auto md:flex-grow">
                            <label htmlFor="rater-name" className="text-sm font-medium text-indigo-700 whitespace-nowrap">
                                Profile Name:
                            </label>
                            {/* Keypress behavior removed (by absence of onKeyDown) */}
                            <input
                                id="rater-name"
                                type="text"
                                value={raterName}
                                onChange={(e) => setRaterName(e.target.value)}
                                placeholder="e.g. Front-End Team 2024"
                                className="w-full sm:w-auto flex-grow px-3 py-2 border border-indigo-300 rounded-lg text-sm shadow-inner focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition"
                                style={{ minWidth: '150px' }}
                            />
                            <button
                                onClick={handleReloadRatings}
                                className="w-full sm:w-auto px-4 py-2 text-sm font-semibold rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 transition duration-150 shadow-lg whitespace-nowrap active:shadow-none active:translate-y-px"
                            >
                                Reload Ratings
                            </button>
                        </div>

                        {saveMessage && (
                            <div className={`mt-3 md:mt-0 px-3 py-1 text-sm font-semibold rounded-full ${
                                saveMessage.type === 'success' ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'
                            }`}>
                                {saveMessage.text}
                            </div>
                        )}
                    </div>

                    {/* Search Bar, Search Button, and Unrated Toggle (Compact Search Button) */}
                    <div className="flex flex-col md:flex-row gap-4 mb-8">
                        {/* Search Input and Button container - Reduced Padding */}
                        <div className="relative flex-grow flex">
                            {/* Reduced SVG size for better fit */}
                            <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none" />
                            <input
                                type="text"
                                placeholder={`Enter search term... (Found ${skillsToDisplay.length} skills)`}
                                // Reduced vertical padding from py-3 to py-2.5
                                className="w-full pl-10 pr-4 py-2.5 border-2 border-gray-200 rounded-l-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 transition duration-150 shadow-inner"
                                value={searchInput}
                                onChange={(e) => setSearchInput(e.target.value)}
                                onKeyDown={(e) => {
                                    if (e.key === 'Enter') {
                                        setActiveSearchTerm(searchInput); // Trigger filter on Enter
                                    }
                                }}
                            />
                            {/* New Search Button - Reduced vertical padding to match input height */}
                            <button
                                onClick={() => setActiveSearchTerm(searchInput)}
                                // Reduced vertical padding from py-3 to py-2.5
                                className="px-4 py-2.5 text-sm font-semibold rounded-r-lg text-white bg-indigo-600 hover:bg-indigo-700 transition duration-150 shadow-md whitespace-nowrap active:shadow-none active:translate-y-px"
                            >
                                Search
                            </button>
                        </div>

                        {/* Checkbox for Unrated Skills - Styled for fancier look */}
                        <label htmlFor="unrated-toggle" className="flex items-center cursor-pointer p-3 bg-white rounded-lg border border-gray-200 shadow-md transition duration-150 hover:border-indigo-400 hover:shadow-lg">
                            <input
                                id="unrated-toggle"
                                type="checkbox"
                                checked={showUnratedOnly}
                                onChange={() => setShowUnratedOnly(prev => !prev)}
                                className="form-checkbox h-5 w-5 text-indigo-600 rounded border-gray-300 focus:ring-indigo-500"
                            />
                            <span className="ml-3 text-sm font-semibold text-gray-700 whitespace-nowrap">
                                Unrated Skills Only
                            </span>
                        </label>
                    </div>


                    {/* Skills List (COMPACT: space-y-1 container and py-1.5 item) */}
                    <div className="space-y-1 custom-scrollbar max-h-[60vh] overflow-y-auto pr-2">
                        {paginatedSkills.length > 0 ? (
                            paginatedSkills.map((item) => (
                                <div
                                    key={item.skill}
                                    // Reduced spacing between items by using space-y-1 in parent and py-1.5 in item
                                    className="flex flex-col sm:flex-row justify-between items-start sm:items-center py-1.5 px-3 bg-white hover:bg-indigo-50 rounded-lg transition duration-150 border border-gray-100 shadow-sm"
                                >
                                    <div className="flex flex-wrap items-center space-x-2 mb-1 sm:mb-0">
                                        <span className="text-sm font-medium text-gray-700">{item.skill}</span>
                                        {/* Display the skill count */}
                                        <span title="Total times this skill was found" className="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800 shadow-inner">
                                            Found: {item.count.toLocaleString()}
                                        </span>
                                    </div>
                                    <StarRating
                                        skill={item.skill}
                                        currentRating={userRatings[item.skill] || 0}
                                        onRate={saveUserRating}
                                    />
                                </div>
                            ))
                        ) : (
                            <div className="text-center p-8 text-gray-500 italic bg-gray-50 rounded-lg border border-gray-200">
                                {activeSearchTerm && skillsToDisplay.length === 0 ?
                                    `No skills found matching "${activeSearchTerm}" or they are all rated.` :
                                    "Loading master skills..."
                                }
                            </div>
                        )}
                    </div>

                    {/* Pagination Controls */}
                    {skillsToDisplay.length > skillsPerPage && (
                        <div className="flex flex-col sm:flex-row justify-between items-center mt-6 pt-4 border-t border-gray-200">
                            <p className="text-sm text-gray-600 mb-4 sm:mb-0">
                                Displaying skills {startIndex + 1} to {Math.min(startIndex + skillsPerPage, skillsToDisplay.length)} of <span className="font-bold text-indigo-700">{skillsToDisplay.length}</span> total filtered skills.
                            </p>
                            <div className="flex space-x-2">
                                <button
                                    onClick={() => goToPage(currentPage - 1)}
                                    disabled={currentPage === 1}
                                    className="flex items-center px-4 py-2 text-sm font-medium text-indigo-600 bg-indigo-50 rounded-lg shadow-sm hover:bg-indigo-100 disabled:opacity-50 disabled:cursor-not-allowed transition active:shadow-none active:translate-y-px"
                                >
                                    <span className="mr-1">&larr;</span> Previous
                                </button>
                                <div className="flex items-center text-sm font-medium text-gray-700 px-3 border border-gray-300 rounded-lg bg-gray-50 shadow-inner">
                                    Page <span className="font-bold ml-1">{currentPage}</span> of <span className="font-bold ml-1">{totalPages}</span>
                                </div>
                                <button
                                    onClick={() => goToPage(currentPage + 1)}
                                    disabled={currentPage === totalPages || totalPages === 0}
                                    className="flex items-center px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg shadow-md hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition active:shadow-none active:translate-y-px"
                                >
                                    Next <span className="ml-1">&rarr;</span>
                                </button>
                            </div>
                        </div>
                    )}
                    {/* End Pagination Controls */}
                </div>
            );
        }

        // 1. Get the root DOM element
        const container = document.getElementById('root');

        // 2. Create a React root
        const root = ReactDOM.createRoot(container);

        // 3. Render the App component
        root.render(<App />);

    </script>
</body>
</html>
